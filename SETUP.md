# WoW Nexus - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

## üéØ –†–µ–∂–∏–º—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### üîß –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

**–°—Ü–µ–Ω–∞—Ä–∏–π**: –ë–î –≤ Docker, —Å–µ—Ä–≤–∏—Å—ã –ª–æ–∫–∞–ª—å–Ω–æ. –ë—ã—Å—Ç—Ä—ã–µ hot-reloads, –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –æ—Ç–ª–∞–¥–∫–µ.

```bash
# 1. –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞)
npm run setup

# 2. –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª (—Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ .env.example)

# 3. –ó–∞–ø—É—Å–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```

### üê≥ Docker —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

**–°—Ü–µ–Ω–∞—Ä–∏–π**: –í—Å–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö. –ë–ª–∏–∑–∫–æ –∫ –ø—Ä–æ–¥–∞–∫—à–Ω—É, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ hot-reloads.

```bash
# 1. –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª (—Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ .env.example)

# 2. –ó–∞–ø—É—Å–∫ –≤ Docker
npm run dev:docker
```

## üõ† –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

- `npm run setup` - üöÄ –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫)
- `npm run dev:local` - üíª –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–ë–î –≤ Docker, —Å–µ—Ä–≤–∏—Å—ã –ª–æ–∫–∞–ª—å–Ω–æ)
- `npm run dev:docker` - üê≥ Docker —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–≤—Å—ë –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö)
- `npm run dev` - ‚ö° –¢–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- `npm run db:setup` - üìä –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ + –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma
- `npm run db:studio` - üîç Prisma Studio (http://localhost:5555)
- `npm run db:generate` - üîß –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma –∫–ª–∏–µ–Ω—Ç–∞
- `npm run db:migrate` - üìà –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏

### Docker

- `npm run docker:up` - ‚¨ÜÔ∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É (–ë–î, Redis)
- `npm run docker:down` - ‚¨áÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
- `npm run docker:build` - üî® –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- `npm run docker:logs` - üìã –õ–æ–≥–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- `npm run docker:deploy` - üöÄ Production –¥–µ–ø–ª–æ–π

### –û—Ç–ª–∞–¥–∫–∞

- `npm run stop` - üõë –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js –ø—Ä–æ—Ü–µ—Å—Å—ã
- `npm run ports` - üîç –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–Ω—è—Ç—ã–µ –ø–æ—Ä—Ç—ã (3000, 3001)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

```bash
git clone <repo>
cd <repo>
cp .env.example .env  # –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
npm run setup         # –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
npm run dev:local     # –ó–∞–ø—É—Å–∫ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ
```

## üîç –ü–æ—Ä—Ç—ã –∏ —Å–µ—Ä–≤–∏—Å—ã

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

- Gateway: http://localhost:3000
- User Service: http://localhost:3001
- PostgreSQL: localhost:5432
- Prisma Studio: http://localhost:5555
- Adminer: http://localhost:8080

### Docker —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

- –í—Å–µ —Ç–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö

## ‚ùå –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "Port already in use" / Gateway –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ Node.js –ø—Ä–æ—Ü–µ—Å—Å—ã
npm run stop

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫–∏–µ –ø–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã
npm run ports

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
npm run docker:down
```

**–ü—Ä–∏—á–∏–Ω–∞**: –û–±—ã—á–Ω–æ –æ—Å—Ç–∞—é—Ç—Å—è —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∑–∞–ø—É—Å–∫–æ–≤.

### "Can't reach database server"

```bash
npm run docker:dev:up     # –ó–∞–ø—É—Å—Ç–∏—Ç—å –ë–î
npm run db:setup          # –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
```

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ schema.prisma

```bash
npm run db:setup          # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Client
```

### –û—à–∏–±–∫–∏ Prisma –≤ Windows (EPERM)

```bash
# –£–¥–∞–ª–∏—Ç—å –ø–∞–ø–∫—É .prisma –∏ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å
Remove-Item -Path "node_modules/.prisma" -Recurse -Force -ErrorAction SilentlyContinue
npm run docker:up
npm run db:generate
```

### –†–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —É —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∫–æ–º–∞–Ω–¥—ã

```bash
rm -rf node_modules       # –£–¥–∞–ª–∏—Ç—å node_modules (Windows: rmdir /s node_modules)
npm run setup             # –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω `package-lock.json` –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏ –≤–µ—Ä—Å–∏–π. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∫–æ–º–∞–Ω–¥—ã —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –≤–µ—Ä—Å–∏–∏ Node.js (`>=18.0.0`).

## üéØ –ö–∞–∫–æ–π —Ä–µ–∂–∏–º –≤—ã–±—Ä–∞—Ç—å?

- **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞** (`npm run dev:local`) - –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- **Docker —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞** (`npm run dev:docker`) - –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏
- **–ü–æ–ª–Ω—ã–π Docker** (`docker-compose up -d`) - –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞/CI
